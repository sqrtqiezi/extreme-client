<!--logs.wxml-->
<view class="container userstats-list">
  <view class="page-body">
    <button class="btn-add-event" type="primary" size="mini" bindtap="addTraining"> 添加活动 </button>

    <view class="userstats" wx:for="{{trainings}}" wx:key="id" wx:for-item="training">
      <view class="userstats-heading">
        <image class='userstats-avatar' src="{{ training.owner.avatar_url }}"></image>
        <text class="userstats-time">{{training.trained_at}}</text>
        <image class="userstats-type" wx:if="{{training.type === 0}}" src="/images/swim.png"/>
        <image class="userstats-type" wx:elif="{{training.type === 1}}" src="/images/cycle.png"/>
        <image class="userstats-type" wx:else src="/images/run.png"/>
        <text class="userstats-distance">{{training.distance}}km</text>
        <text class="userstats-distance">{{training.consumption_time}}</text>
      </view>
      <view class="userstats-body">
        <text class='userstats-nickname'>{{ training.owner.nick_name }}</text>
        <view class="userstats-message">
          {{training.description}}
        </view>
        <view class="userstats-photos">
          <image mode="aspectFill" class="userstats-photo" wx:key="{{photo}}" wx:for="{{training.photos}}" wx:for-item="photo" src="{{photo}}" 
            bindtap="previewPhotos" data-photo="{{photo}}" data-photos="{{training.photos}}" />
        </view>
      </view>
    </view>

    <text class='load-message' wx:if="{{ current_page === last_page }}">没有更多了～</text>
  </view>
</view>